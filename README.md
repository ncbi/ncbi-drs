# ncbi-drs
An implementation of the GA4GH Data Repository Service (DRS).

----

### A note about submodules:

This repo brings in, as a submodule, a fork of the GA4GH DRS schemas for the 
swagger YAML file. This is done primary so that we can test our suggestions
before we send pull requests to GA4GH.

By default, `git` does not populate submodules.
You can clone with
```
git clone --recurse-submodules ...
```
If you have already cloned without `--recurse-submodules`,
you can run
```
git submodule update --init --recursive
```

----

# Building
The build result is inside a Docker container. To build it, run
```
docker build --target runner -t drs-server .
```

# Testing
The unit tests are also inside a Docker container. To run them, run
```
docker build --target tester -t drs-tests .
docker run -t --rm drs-tests
```

# Running
To run the DRS service, run
```
docker run --detach --publish 8080:80 --rm drs-server
```
Note: The actual port (in this example, `8080`) is up to you.

To query the service, run
```
curl http://localhost:8080/ga4gh/drs/v1/objects/...
```

# Online documentation
The online documentation is autogenerated.
With the service running as above,
you can view the documentation at
`http://localhost:8080/ga4gh/drs/v1/`
